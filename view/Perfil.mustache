<h1 class="encabezado w3-pink w3-center w3-padding">Tu perfil</h1><br><br>

<div class="w3-center" id="infoNoForm">
 <img src="/public/img/fotoPerfil/{{foto_de_perfil}}" class="foto-perfil w3-circle w3-border w3-margin"/><br>
<h3>{{nombre_de_usuario}}</h3>
<p>({{nombre}} {{apellido}} | {{sexo}})</p>
<p>Año de nacimiento: {{ano_de_nacimiento}}</p>
<p>Correo electrónico: {{mail}}</p>
<p>País: {{pais}}</p>
<p>Ciudad: {{ciudad}}</p>

</div>

<div id="oculto" class="no-se-ve">
    <form action="/registro/actualizar" method="post" enctype="multipart/form-data">

        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" class="w3-round-xxlarge" value="{{nombre}}"><br><br>

        <label for="apellido">Apellido:</label>
        <input type="text" id="apellido" name="apellido" class="w3-round-xxlarge" value="{{apellido}}"><br><br>

        <label for="ano_de_nacimiento">Año de nacimiento:</label>
        <input type="text" id="ano_de_nacimiento" name="ano_de_nacimiento" class="w3-round-xxlarge" value={{ano_de_nacimiento}}><br><br>

        <label for="sexo">Sexo:</label>
         <select id="sexo" name="sexo" class="w3-round-xxlarge">
                <option value="Masculino" {{#isMasculino}}selected{{/isMasculino}}>Masculino</option>
                <option value="Femenino" {{#isFemenino}}selected{{/isFemenino}}>Femenino</option>
                <option value="Prefiero no cargarlo" {{#isNoCargar}}selected{{/isNoCargar}}>Prefiero no cargarlo</option>
            </select><br><br>

        <label for="pais">Pais:</label>
        <input type="text" id="pais" name="pais" class="w3-round-xxlarge" value="{{pais}}"><br><br>

        <label for="ciudad">Ciudad:</label>
        <input type="text" id="ciudad" name="ciudad" class="w3-round-xxlarge" value="{{ciudad}}"><br><br>

        <label for="mail">Email:</label>
        <input type="mail" id="mail" name="mail" class="w3-round-xxlarge" value="{{mail}}"><br><br>

        <label for="contrasena">Contraseña:</label>
        <input type="password" id="contrasena" name="contrasena" class="w3-round-xxlarge" value="{{contrasena}}"><br><br>
        <label for="confirmar_contrasena">Confirmar contraseña:</label>
        <input type="password" id="confirmar_contrasena" name="confirmar_contrasena" class="w3-round-xxlarge" value="{{contrasena}}"><br><br>

        <label for="nombre_de_usuario">Nombre de usuario:</label>
        <input type="text" id="nombre_de_usuario" name="nombre_de_usuario" class="w3-round-xxlarge" value="{{nombre_de_usuario}}"><br><br>

        <label for="foto_de_perfil">Foto de perfil:</label>
        <input type="file" id="foto_de_perfil" name="foto_de_perfil" class="w3-round-xxlarge" value="{{foto_de_perfil}}"><br><br>

        <p>Foto de perfil actual: </p>
        <img src="/public/img/fotoPerfil/{{foto_de_perfil}}" class="foto-perfil w3-circle w3-border w3-margin"/><br><br>

        <input type="submit" value="Guardar cambios" name="submit" class="w3-round-xxlarge w3-pink"><br><br>
    </form>
</div>
<a href="/home/get" class="w3-button w3-round-xxlarge w3-gray">Volver</a>
<button id="aparecer" class="w3-button w3-round-xxlarge w3-gray">Modificar perfil</button>

<script>
    console.log("Archivo popUp.js cargado correctamente");
    let boton = document.getElementById("aparecer");
    let oculto = document.getElementById("oculto");
    let info = document.getElementById("infoNoForm");

    boton.addEventListener("click", () => {
        info.classList.add("no-se-ve");
        boton.classList.add("no-se-ve");
        oculto.classList.remove("no-se-ve");
        oculto.classList.add("se-ve");
    });

    document.addEventListener("DOMContentLoaded", function() {
            // Obtén el valor de sexo del perfil y preselecciona la opción correspondiente
            var sexo = "{{sexo}}";
            var selectSexo = document.getElementById('sexo');
            for (var option, i = 0; option = selectSexo.options[i]; i++) {
                if (option.value === sexo) {
                    selectSexo.selectedIndex = i;
                    break;
                }
            }
        });
</script>